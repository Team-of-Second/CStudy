# OS
- [Process vs Thread](#process-vs-thread)

***

# Process vs Thread
### 프로세스(Process)
프로세스는 실행중에 있는 프로그램을 의미하며, 스케줄링의 대상이 되는 작업과 같은 의미로 쓰인다. 프로세스 내부에는 최소 하나의 스레드를 가지고 있고, 실제로는 스레드 단위로 스케줄링을 한다. 
하드디스크에 있는 프로그램을 실행하면 실행을 위해 메모리 할당이 이루어지고 할당된 메모리 공간이 바이너리 코드로 올라가게 된다. 이 순간부터 **프로세스**라 부른다.  


### 프로세스의 메모리구조
<img src="https://user-images.githubusercontent.com/80737266/166136565-59993a30-ab66-459d-a8f0-294878eb8a39.png" width="400" height="200"/>  

1. Code  영역 : 프로그램을 실행시키는 실행파일 내의 명령어들이 올라감. 소스코드가 올라가는 영역
2. Data  영역 : 전역변수, static 변수들이 할당받는 영역
3. Stack 영역 : 지역변수, 함수 호출 시 전달되는 인자를 위한 메모리영역
4. Heap  영역 : 동적할당을 위한 메모리영역 (C의 malloc, JAVA의 new 등)  

### 프로세스 관리
현대의 수많은 운영체제에서는 하나 이상의 프로그램이 동시에 메모리에 적재된다. 다중 프로그래밍 또는 멀티태스킹 운영체제는 동시에 여러 프로세스를 실행하는 시스템을 말한다. 즉, 프로세스를 관리하는 CPU는 하나인데 여러개의 프로세스를 관리할 필요가 있다.  이 때 요구되는 사항은 프로세스가 적절한 순간에 할당받고 해제되는 것이다. 이 때 여러 프로세스는 사실 동시에 실행되고 있는 것이 아닌, 고속으로 여러 프로세스를 **일정한 기준**으로 오가며 실행된다. 일정한 기준으로 CPU 할당 순서 및 방법을 결정하는 일을 [스케줄링]()이라고 한다.

### 프로세스 제어 블록(Process Control Block)
PCB(Process Control Block)는 운영체제가 프로세스를 제어하기 위해 정보를 저장하는 곳으로, 프로세스의 상태 관리와 여러 프로세스를 오가는 문맥교환을 위해 필요하다. 프로세스가 생성될 때 고유한 PCB가 생성되고 프로세스가 완료되면 PCB도 함께 제거된다. 운영체제에 따라 PCB에 포함되는 정보는 다를 수 있지만, 일반적으로 아래와 같다. 

<img src="https://user-images.githubusercontent.com/80737266/166231782-4724268d-9836-4ac1-a5e8-b8f2a2fcefaf.png"/>  

- Pointer : 프로세스의 현재 위치를 저장하는 포인터 정보   
- Process State : 프로세스의 현재 상태를 저장. 상태에는 생성(New), 준비(Ready), 실행(Running), 대기(Waiting), 종료(Terminated)가 있음   
- Process Number : 모든 프로세스에는 프로세스 식별자를 저장하는 프로세스 ID 또는 PID라는 고유 번호가 할당됨   
- Program Counter : 프로그램을 위해 실행될 다음 명령어의 주소를 포함하는 카운터 저장
- Registers : 누산기, 베이스, 레지스터 및 범용 레지스터를 포함하는 CPU 레지스터에 있는 정보 저장
- Memory Limits : 운영 체제에서 사용하는 메모리 관리 시스템에 대한 정보 포함. 페이지 테이블, 세그먼트 테이블 등이 포함될 수 있음
- Open File Lists : 프로세스를 위해 열린 파일 목록 포함   

운영체제는 빠르게 PCB에 접근하기 위해 **프로세스 테이블**을 사용하여 각 프로세스의 PCB를 관리한다.

### Question
❓ 프로그램 vs 프로세스
